Yandex Wordstat Regional Analysis

–ü—Ä–æ–µ–∫—Ç –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ–∏—Å–∫–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ —á–µ—Ä–µ–∑ API –Ø–Ω–¥–µ–∫—Å.–í–æ—Ä–¥—Å—Ç–∞—Ç. –°–∫—Ä–∏–ø—Ç –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—É—á–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ —Ä–µ–≥–∏–æ–Ω–∞–º (–≥–æ—Ä–æ–¥–∞–º, –æ–±–ª–∞—Å—Ç—è–º –∏ —Å—Ç—Ä–∞–Ω–∞–º) –¥–ª—è —Å–ø–∏—Å–∫–∞ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤ –∏ –≤—ã–≤–æ–¥–∏—Ç—å –µ—ë –≤ —á–∏—Ç–∞–µ–º–æ–º —Ñ–æ—Ä–º–∞—Ç–µ.

–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

–ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–ª–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ —Ä–µ–≥–∏–æ–Ω–æ–≤ (–¥–µ—Ä–µ–≤–æ —Ä–µ–≥–∏–æ–Ω–æ–≤ —Å ID –∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏)

–ó–∞–ø—Ä–æ—Å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ —Ä–µ–≥–∏–æ–Ω–∞–º –¥–ª—è –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤

–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –≤—ã–≤–æ–¥ —Ç–æ–ø-10 —Ä–µ–≥–∏–æ–Ω–æ–≤ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –∑–∞–ø—Ä–æ—Å–æ–≤

–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–∞—É–∑—ã –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏ –¥–ª—è —Å–æ–±–ª—é–¥–µ–Ω–∏—è –ª–∏–º–∏—Ç–æ–≤ API

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
project/
‚îÇ
‚îú‚îÄ main.py                 # –ì–ª–∞–≤–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∞–Ω–∞–ª–∏–∑–∞
‚îú‚îÄ get_regions_tree.py     # –ü–æ–ª—É—á–µ–Ω–∏–µ –∏ —Ä–∞–∑–±–æ—Ä –¥–µ—Ä–µ–≤–∞ —Ä–µ–≥–∏–æ–Ω–æ–≤
‚îú‚îÄ regions.py              # –§—É–Ω–∫—Ü–∏—è –∑–∞–ø—Ä–æ—Å–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ —Ä–µ–≥–∏–æ–Ω–∞–º
‚îú‚îÄ regions_utils.py        # –§—É–Ω–∫—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
‚îú‚îÄ getting_region.py       # –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –ø–∞—Ä—Å–µ—Ä –¥–µ—Ä–µ–≤–∞ —Ä–µ–≥–∏–æ–Ω–æ–≤
‚îú‚îÄ keys.py                 # –•—Ä–∞–Ω–µ–Ω–∏–µ OAuth-—Ç–æ–∫–µ–Ω–∞
‚îî‚îÄ .env                    # –§–∞–π–ª —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è (OAuth-—Ç–æ–∫–µ–Ω)

–£—Å—Ç–∞–Ω–æ–≤–∫–∞

–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:

git clone https://github.com/yourusername/yandex-wordstat-regions.git
cd yandex-wordstat-regions


–°–æ–∑–¥–∞–π—Ç–µ –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:

python -m venv .venv
# Windows
.venv\Scripts\activate
# Linux / Mac
source .venv/bin/activate


–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

pip install -r requirements.txt


–î–æ–±–∞–≤—å—Ç–µ OAuth-—Ç–æ–∫–µ–Ω –Ø–Ω–¥–µ–∫—Å.–í–æ—Ä–¥—Å—Ç–∞—Ç –≤ keys.py –∏–ª–∏ .env:

OAuth = "–≤–∞—à_—Ç–æ–∫–µ–Ω_–∑–¥–µ—Å—å"

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

–ó–∞–ø—É—Å–∫ –∞–Ω–∞–ª–∏–∑–∞ —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –¥–ª—è –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤:

python main.py


–†–µ–∑—É–ª—å—Ç–∞—Ç:

üìä –†–µ–≥–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–ª—è: '–∫—É—Ä—Å—ã'

üìç –¢–æ–ø —Ä–µ–≥–∏–æ–Ω–æ–≤ (–ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –∑–∞–ø—Ä–æ—Å–æ–≤):
   ‚Ä¢ –ú–æ—Å–∫–≤–∞ (ID: 213) ‚Äî 4 243 580 –∑–∞–ø—Ä–æ—Å–æ–≤ (–¥–æ–ª—è: 35.03%, –∏–Ω–¥–µ–∫—Å: 136.8)
   ‚Ä¢ –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥ (ID: 2) ‚Äî 1 414 849 –∑–∞–ø—Ä–æ—Å–æ–≤ (–¥–æ–ª—è: 28.48%, –∏–Ω–¥–µ–∫—Å: 111.2)
   ...

–ú–æ–¥—É–ª–∏ –∏ —Ñ—É–Ω–∫—Ü–∏–∏
get_regions_tree.py

get_regions_tree(OAuth) ‚Äì –ø–æ–ª—É—á–∞–µ—Ç –¥–µ—Ä–µ–≤–æ —Ä–µ–≥–∏–æ–Ω–æ–≤ —Å API –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ª–æ–≤–∞—Ä—å ID -> –Ω–∞–∑–≤–∞–Ω–∏–µ.

getting_region.py

parse_region_tree(node, region_map) ‚Äì —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±—Ö–æ–¥–∞ –¥–µ—Ä–µ–≤–∞ —Ä–µ–≥–∏–æ–Ω–æ–≤.

regions.py

get_wordstat_by_regions(keyword, OAuth, region_type='cities') ‚Äì –ø–æ–ª—É—á–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ —Ä–µ–≥–∏–æ–Ω–∞–º –¥–ª—è –∫–ª—é—á–µ–≤–æ–π —Ñ—Ä–∞–∑—ã.

regions_utils.py

pretty_regions(keyword, data, region_names) ‚Äì —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤ —É–¥–æ–±–æ—á–∏—Ç–∞–µ–º—ã–π –≤–∏–¥.

–°–æ–≤–µ—Ç—ã –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞—É–∑—É –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏, —á—Ç–æ–±—ã –Ω–µ –ø—Ä–µ–≤—ã—Å–∏—Ç—å –ª–∏–º–∏—Ç—ã API (–Ω–∞–ø—Ä–∏–º–µ—Ä, time.sleep(1)).

–ú–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å region_type –Ω–∞ "all", "cities", "regions", "countries" –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Ä–µ–≥–∏–æ–Ω–æ–≤.

–î–æ–±–∞–≤–ª—è–π—Ç–µ –Ω–æ–≤—ã–µ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –≤ —Å–ø–∏—Å–æ–∫ keywords –≤ main.py.

–õ–∏—Ü–µ–Ω–∑–∏—è

MIT License